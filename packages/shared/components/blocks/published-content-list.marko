import { getAsObject, getAsArray } from "@base-cms/object-path";
import queryFragment from "../../graphql/fragments/content-list";

$ const queryParams = {
  limit: 4,
  queryFragment,
  ...getAsObject(input, "queryParams"),
  includeContentTypes: getAsArray(input, "contentTypes"),
};

<marko-web-query|{ nodes }| name="all-published-content" params=queryParams>
  <shared-content-list-flow
    ...input.list
    nodes=nodes
    header=input.header
  />
</marko-web-query>
